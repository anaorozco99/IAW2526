DROP TABLE INSTITUTO cascade constraints; 
DROP TABLE PERSONAL cascade constraints; 
DROP TABLE TUTORES cascade constraints; 

CREATE TABLE INSTITUTO (
 CODIGO   NUMBER(4) NOT NULL,
 TIPO  CHAR(1) constraint tipo check(tipo in ('S','P')),
 NOMBRE VARCHAR2(30),
 DIRECCION VARCHAR2(26),
 TELEFONO VARCHAR2(10),
 NUM_PLAZAS NUMBER(4),
CONSTRAINT PK_COLEGIO PRIMARY KEY (CODIGO)
 );

INSERT INTO INSTITUTO VALUES (10,'S','El Quijote', 'Avda. Los Molinos 25', '965-887654',538);
INSERT INTO INSTITUTO VALUES (15,'P','Los Danzantes', 'C/Las Musas s/n','985-112322',250);
INSERT INTO INSTITUTO VALUES (22,'S', 'Planeta Tierra', 'C/Mina 45', '925-443400',300);
INSERT INTO INSTITUTO VALUES (45,'P', 'Manuel Hidalgo', 'C/Granada 5','926-202310',220);
INSERT INTO INSTITUTO VALUES (50,'S', 'Antoñete', 'C/Los Toreros 21','989-406090',310);


CREATE TABLE PERSONAL (
 NIF NUMBER(10) CONSTRAINT PK_PERSONAL PRIMARY KEY,
 CODIGO  NUMBER(4) CONSTRAINT FK_PER_COL REFERENCES INSTITUTO,
 APELLIDOS VARCHAR2(30),
 FUNCION VARCHAR2(15),
 SALARIO NUMBER (10));

INSERT INTO PERSONAL VALUES (1112345,10,'Martinez Salas, Fernando','PROFESOR', 2200);
INSERT INTO PERSONAL VALUES (4123005,10,'Bueno Zarco, Elisa', 'PROFESOR', 2200);
INSERT INTO PERSONAL VALUES (4122025,10,'Montes Garcia, M.Pilar','PROFESOR', 2200);
INSERT INTO PERSONAL VALUES (1112346,15,'Rivera Silvestre, Ana', 'PROFESOR', 2050);
INSERT INTO PERSONAL VALUES (9800990,15, 'Ramos Ruiz, Luis','PROFESOR', 2050);
INSERT INTO PERSONAL VALUES (8660990,15, 'De Lucas Fdez, M.Angel','PROFESOR', 2050);
INSERT INTO PERSONAL VALUES (7650000,22, 'Ruiz Lafuente, Manuel','PROFESOR', 2200);
INSERT INTO PERSONAL VALUES (43526789,45, 'Serrano Laguna, Maria','PROFESOR', 2050);

INSERT INTO PERSONAL VALUES (4480099,10,'Ruano Cerezo, Manuel','ADMINISTRATIVO', 1800);
INSERT INTO PERSONAL VALUES (1002345,15,'Albarran Serrano, Alicia','ADMINISTRATIVO', 1800);
INSERT INTO PERSONAL VALUES (7002660,15,'Muñoz Rey, Felicia','ADMINISTRATIVO', 1800);
INSERT INTO PERSONAL VALUES (5502678,22,'Marin Marin, Pedro','ADMINISTRATIVO', 1800);

INSERT INTO PERSONAL VALUES (6600980,22, 'Peinado Gil, Elena','CONSERJE', 1750);
INSERT INTO PERSONAL VALUES (4163222,45,'Sarro Molina, Carmen','CONSERJE', 1750);




CREATE TABLE TUTORES (
 NIF          NUMBER(10),
 CURSOS VARCHAR2(16),
 NUM_ALUMNOS NUMBER(2),
 CODIGO   NUMBER(4) NOT NULL,
CONSTRAINT PK_TUTOR PRIMARY KEY (NIF),
CONSTRAINT FK_TUT_PER FOREIGN KEY(NIF) REFERENCES PERSONAL,
CONSTRAINT FK_TUT_COL FOREIGN KEY (CODIGO) REFERENCES INSTITUTO 
);


INSERT INTO TUTORES VALUES (1112345,'PRIMERO A', 20, 10 );
INSERT INTO TUTORES VALUES (4123005,'PRIMERO B', 25, 10);
INSERT INTO TUTORES VALUES (4122025,'SEGUNDO A', 15, 10);
INSERT INTO TUTORES VALUES (9800990,'TERCERO A', 22, 15);
INSERT INTO TUTORES VALUES (1112346,'CUARTO B', 12, 15);
INSERT INTO TUTORES VALUES (8660990,'CUARTO A', 21, 15);
INSERT INTO TUTORES VALUES (7650000, 'CUARTO B', 15, 22);
INSERT INTO TUTORES VALUES (43526789,'CUARTO B', 10, 45);


commit;

